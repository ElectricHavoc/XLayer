namespace XLayer.Decoder;

public static class LookupTables
{
    public const int SBLIMIT = 32;
    public const int SSLIMIT = 12;
    public const float INV_SQRT_2 = 7.071067811865474617150084668537e-01f;

    // this is from a (really annoying) formula:
    //   x = Math.Pow(4, 1 / ((2 << (idx % 3) + 1) - (idx % 3))) / (1 << (idx / 3))
    // Basically...
    //   [0] = Math.Pow(4, 1 / 2), [1] = Math.Pow(4, 1 / 3), [2] = Math.Pow(4, 1 / 6)
    //   For every remaining element, calculate (in order): [idx] = [idx - 3] / 2
    public static readonly float[] DenormalMultiplier = [
        2.00000000000000f, 1.58740105196820f, 1.25992104989487f, 1.00000000000000f, 0.79370052598410f, 0.62996052494744f, 0.50000000000000f, 0.39685026299205f,
        0.31498026247372f, 0.25000000000000f, 0.19842513149602f, 0.15749013123686f, 0.12500000000000f, 0.09921256574801f, 0.07874506561843f, 0.06250000000000f,
        0.04960628287401f, 0.03937253280921f, 0.03125000000000f, 0.02480314143700f, 0.01968626640461f, 0.01562500000000f, 0.01240157071850f, 0.00984313320230f,
        0.00781250000000f, 0.00620078535925f, 0.00492156660115f, 0.00390625000000f, 0.00310039267963f, 0.00246078330058f, 0.00195312500000f, 0.00155019633981f,
        0.00123039165029f, 0.00097656250000f, 0.00077509816991f, 0.00061519582514f, 0.00048828125000f, 0.00038754908495f, 0.00030759791257f, 0.00024414062500f,
        0.00019377454248f, 0.00015379895629f, 0.00012207031250f, 0.00009688727124f, 0.00007689947814f, 0.00006103515625f, 0.00004844363562f, 0.00003844973907f,
        0.00003051757813f, 0.00002422181781f, 0.00001922486954f, 0.00001525878906f, 0.00001211090890f, 0.00000961243477f, 0.00000762939453f, 0.00000605545445f,
        0.00000480621738f, 0.00000381469727f, 0.00000302772723f, 0.00000240310869f, 0.00000190734863f, 0.00000151386361f, 0.00000120155435f, 0.00000095367432f
        ];

    public static readonly float[] Icos72_table = [
        5.004763425816599609063928255636710673570632934570312500000000e-01f,
        5.019099187716736798492433990759309381246566772460937500000000e-01f,
        5.043144802900764167574720886477734893560409545898437500000000e-01f,
        5.077133059428725614381505693017970770597457885742187500000000e-01f,
        5.121397571572545714957414020318537950515747070312500000000000e-01f,
        5.176380902050414789528076653368771076202392578125000000000000e-01f,
        5.242645625704053236049162478593643754720687866210937500000000e-01f,
        5.320888862379560269033618169487453997135162353515625000000000e-01f,
        5.411961001461970122150546558259520679712295532226562500000000e-01f,
        5.516889594812458552652856269560288637876510620117187500000000e-01f,
        5.636909734331712051869089918909594416618347167968750000000000e-01f,
        5.773502691896257310588680411456152796745300292968750000000000e-01f,
        5.928445237170802961657045671017840504646301269531250000000000e-01f,
        6.103872943807280293526673631276935338973999023437500000000000e-01f,
        6.302362070051321651931175438221544027328491210937500000000000e-01f,
        6.527036446661392821155800447741057723760604858398437500000000e-01f,
        6.781708524546284921896699415810871869325637817382812500000000e-01f,
        7.071067811865474617150084668537601828575134277343750000000000e-01f,
        7.400936164611303658134033867099788039922714233398437500000000e-01f,
        7.778619134302061643992942663317080587148666381835937500000000e-01f,
        8.213398158522907666068135768000502139329910278320312500000000e-01f,
        8.717233978105488612087015098950359970331192016601562500000000e-01f,
        9.305794983517888807611484480730723589658737182617187500000000e-01f,
        9.999999999999997779553950749686919152736663818359375000000000e-01f,
        1.082840285100100219395358180918265134096145629882812500000000e+00f,
        1.183100791576249255498964885191526263952255249023437500000000e+00f,
        1.306562964876376353728915091778617352247238159179687500000000e+00f,
        1.461902200081543146126250576344318687915802001953125000000000e+00f,
        1.662754761711521034328598034335300326347351074218750000000000e+00f,
        1.931851652578135070115195048856548964977264404296875000000000e+00f,
        2.310113157672649020213384574162773787975311279296875000000000e+00f,
        2.879385241571815523542454684502445161342620849609375000000000e+00f,
        3.830648787770197127855453800293616950511932373046875000000000e+00f,
        5.736856622834929808618653623852878808975219726562500000000000e+00f,
        1.146279281302667207853573927422985434532165527343750000000000e+01f
        ];

    public static readonly float[] DEWINDOW_TABLE = [
        0.000000000f, -0.000015259f, -0.000015259f, -0.000015259f,
        -0.000015259f, -0.000015259f, -0.000015259f, -0.000030518f,
        -0.000030518f, -0.000030518f, -0.000030518f, -0.000045776f,
        -0.000045776f, -0.000061035f, -0.000061035f, -0.000076294f,
        -0.000076294f, -0.000091553f, -0.000106812f, -0.000106812f,
        -0.000122070f, -0.000137329f, -0.000152588f, -0.000167847f,
        -0.000198364f, -0.000213623f, -0.000244141f, -0.000259399f,
        -0.000289917f, -0.000320435f, -0.000366211f, -0.000396729f,
        -0.000442505f, -0.000473022f, -0.000534058f, -0.000579834f,
        -0.000625610f, -0.000686646f, -0.000747681f, -0.000808716f,
        -0.000885010f, -0.000961304f, -0.001037598f, -0.001113892f,
        -0.001205444f, -0.001296997f, -0.001388550f, -0.001480103f,
        -0.001586914f, -0.001693726f, -0.001785278f, -0.001907349f,
        -0.002014160f, -0.002120972f, -0.002243042f, -0.002349854f,
        -0.002456665f, -0.002578735f, -0.002685547f, -0.002792358f,
        -0.002899170f, -0.002990723f, -0.003082275f, -0.003173828f,
        0.003250122f,  0.003326416f,  0.003387451f,  0.003433228f,
        0.003463745f,  0.003479004f,  0.003479004f,  0.003463745f,
        0.003417969f,  0.003372192f,  0.003280640f,  0.003173828f,
        0.003051758f,  0.002883911f,  0.002700806f,  0.002487183f,
        0.002227783f,  0.001937866f,  0.001617432f,  0.001266479f,
        0.000869751f,  0.000442505f, -0.000030518f, -0.000549316f,
        -0.001098633f, -0.001693726f, -0.002334595f, -0.003005981f,
        -0.003723145f, -0.004486084f, -0.005294800f, -0.006118774f,
        -0.007003784f, -0.007919312f, -0.008865356f, -0.009841919f,
        -0.010848999f, -0.011886597f, -0.012939453f, -0.014022827f,
        -0.015121460f, -0.016235352f, -0.017349243f, -0.018463135f,
        -0.019577026f, -0.020690918f, -0.021789551f, -0.022857666f,
        -0.023910522f, -0.024932861f, -0.025909424f, -0.026840210f,
        -0.027725220f, -0.028533936f, -0.029281616f, -0.029937744f,
        -0.030532837f, -0.031005859f, -0.031387329f, -0.031661987f,
        -0.031814575f, -0.031845093f, -0.031738281f, -0.031478882f,
        0.031082153f,  0.030517578f,  0.029785156f,  0.028884888f,
        0.027801514f,  0.026535034f,  0.025085449f,  0.023422241f,
        0.021575928f,  0.019531250f,  0.017257690f,  0.014801025f,
        0.012115479f,  0.009231567f,  0.006134033f,  0.002822876f,
        -0.000686646f, -0.004394531f, -0.008316040f, -0.012420654f,
        -0.016708374f, -0.021179199f, -0.025817871f, -0.030609131f,
        -0.035552979f, -0.040634155f, -0.045837402f, -0.051132202f,
        -0.056533813f, -0.061996460f, -0.067520142f, -0.073059082f,
        -0.078628540f, -0.084182739f, -0.089706421f, -0.095169067f,
        -0.100540161f, -0.105819702f, -0.110946655f, -0.115921021f,
        -0.120697021f, -0.125259399f, -0.129562378f, -0.133590698f,
        -0.137298584f, -0.140670776f, -0.143676758f, -0.146255493f,
        -0.148422241f, -0.150115967f, -0.151306152f, -0.151962280f,
        -0.152069092f, -0.151596069f, -0.150497437f, -0.148773193f,
        -0.146362305f, -0.143264771f, -0.139450073f, -0.134887695f,
        -0.129577637f, -0.123474121f, -0.116577148f, -0.108856201f,
        0.100311279f,  0.090927124f,  0.080688477f,  0.069595337f,
        0.057617187f,  0.044784546f,  0.031082153f,  0.016510010f,
        0.001068115f, -0.015228271f, -0.032379150f, -0.050354004f,
        -0.069168091f, -0.088775635f, -0.109161377f, -0.130310059f,
        -0.152206421f, -0.174789429f, -0.198059082f, -0.221984863f,
        -0.246505737f, -0.271591187f, -0.297210693f, -0.323318481f,
        -0.349868774f, -0.376800537f, -0.404083252f, -0.431655884f,
        -0.459472656f, -0.487472534f, -0.515609741f, -0.543823242f,
        -0.572036743f, -0.600219727f, -0.628295898f, -0.656219482f,
        -0.683914185f, -0.711318970f, -0.738372803f, -0.765029907f,
        -0.791213989f, -0.816864014f, -0.841949463f, -0.866363525f,
        -0.890090942f, -0.913055420f, -0.935195923f, -0.956481934f,
        -0.976852417f, -0.996246338f, -1.014617920f, -1.031936646f,
        -1.048156738f, -1.063217163f, -1.077117920f, -1.089782715f,
        -1.101211548f, -1.111373901f, -1.120223999f, -1.127746582f,
        -1.133926392f, -1.138763428f, -1.142211914f, -1.144287109f,
        1.144989014f,  1.144287109f,  1.142211914f,  1.138763428f,
        1.133926392f,  1.127746582f,  1.120223999f,  1.111373901f,
        1.101211548f,  1.089782715f,  1.077117920f,  1.063217163f,
        1.048156738f,  1.031936646f,  1.014617920f,  0.996246338f,
        0.976852417f,  0.956481934f,  0.935195923f,  0.913055420f,
        0.890090942f,  0.866363525f,  0.841949463f,  0.816864014f,
        0.791213989f,  0.765029907f,  0.738372803f,  0.711318970f,
        0.683914185f,  0.656219482f,  0.628295898f,  0.600219727f,
        0.572036743f,  0.543823242f,  0.515609741f,  0.487472534f,
        0.459472656f,  0.431655884f,  0.404083252f,  0.376800537f,
        0.349868774f,  0.323318481f,  0.297210693f,  0.271591187f,
        0.246505737f,  0.221984863f,  0.198059082f,  0.174789429f,
        0.152206421f,  0.130310059f,  0.109161377f,  0.088775635f,
        0.069168091f,  0.050354004f,  0.032379150f,  0.015228271f,
        -0.001068115f, -0.016510010f, -0.031082153f, -0.044784546f,
        -0.057617187f, -0.069595337f, -0.080688477f, -0.090927124f,
        0.100311279f,  0.108856201f,  0.116577148f,  0.123474121f,
        0.129577637f,  0.134887695f,  0.139450073f,  0.143264771f,
        0.146362305f,  0.148773193f,  0.150497437f,  0.151596069f,
        0.152069092f,  0.151962280f,  0.151306152f,  0.150115967f,
        0.148422241f,  0.146255493f,  0.143676758f,  0.140670776f,
        0.137298584f,  0.133590698f,  0.129562378f,  0.125259399f,
        0.120697021f,  0.115921021f,  0.110946655f,  0.105819702f,
        0.100540161f,  0.095169067f,  0.089706421f,  0.084182739f,
        0.078628540f,  0.073059082f,  0.067520142f,  0.061996460f,
        0.056533813f,  0.051132202f,  0.045837402f,  0.040634155f,
        0.035552979f,  0.030609131f,  0.025817871f,  0.021179199f,
        0.016708374f,  0.012420654f,  0.008316040f,  0.004394531f,
        0.000686646f, -0.002822876f, -0.006134033f, -0.009231567f,
        -0.012115479f, -0.014801025f, -0.017257690f, -0.019531250f,
        -0.021575928f, -0.023422241f, -0.025085449f, -0.026535034f,
        -0.027801514f, -0.028884888f, -0.029785156f, -0.030517578f,
        0.031082153f,  0.031478882f,  0.031738281f,  0.031845093f,
        0.031814575f,  0.031661987f,  0.031387329f,  0.031005859f,
        0.030532837f,  0.029937744f,  0.029281616f,  0.028533936f,
        0.027725220f,  0.026840210f,  0.025909424f,  0.024932861f,
        0.023910522f,  0.022857666f,  0.021789551f,  0.020690918f,
        0.019577026f,  0.018463135f,  0.017349243f,  0.016235352f,
        0.015121460f,  0.014022827f,  0.012939453f,  0.011886597f,
        0.010848999f,  0.009841919f,  0.008865356f,  0.007919312f,
        0.007003784f,  0.006118774f,  0.005294800f,  0.004486084f,
        0.003723145f,  0.003005981f,  0.002334595f,  0.001693726f,
        0.001098633f,  0.000549316f,  0.000030518f, -0.000442505f,
        -0.000869751f, -0.001266479f, -0.001617432f, -0.001937866f,
        -0.002227783f, -0.002487183f, -0.002700806f, -0.002883911f,
        -0.003051758f, -0.003173828f, -0.003280640f, -0.003372192f,
        -0.003417969f, -0.003463745f, -0.003479004f, -0.003479004f,
        -0.003463745f, -0.003433228f, -0.003387451f, -0.003326416f,
        0.003250122f,  0.003173828f,  0.003082275f,  0.002990723f,
        0.002899170f,  0.002792358f,  0.002685547f,  0.002578735f,
        0.002456665f,  0.002349854f,  0.002243042f,  0.002120972f,
        0.002014160f,  0.001907349f,  0.001785278f,  0.001693726f,
        0.001586914f,  0.001480103f,  0.001388550f,  0.001296997f,
        0.001205444f,  0.001113892f,  0.001037598f,  0.000961304f,
        0.000885010f,  0.000808716f,  0.000747681f,  0.000686646f,
        0.000625610f,  0.000579834f,  0.000534058f,  0.000473022f,
        0.000442505f,  0.000396729f,  0.000366211f,  0.000320435f,
        0.000289917f,  0.000259399f,  0.000244141f,  0.000213623f,
        0.000198364f,  0.000167847f,  0.000152588f,  0.000137329f,
        0.000122070f,  0.000106812f,  0.000106812f,  0.000091553f,
        0.000076294f,  0.000076294f,  0.000061035f,  0.000061035f,
        0.000045776f,  0.000045776f,  0.000030518f,  0.000030518f,
        0.000030518f,  0.000030518f,  0.000015259f,  0.000015259f,
        0.000015259f,  0.000015259f,  0.000015259f,  0.000015259f
        ];

    public static readonly float[] SYNTH_COS64_TABLE = [
        5.0060299823519627260e-01f, 5.0241928618815567820e-01f, 5.0547095989754364798e-01f, 5.0979557910415917998e-01f,
        5.1544730992262455249e-01f, 5.2249861493968885462e-01f, 5.3104259108978413284e-01f, 5.4119610014619701222e-01f,
        5.5310389603444454210e-01f, 5.6694403481635768927e-01f, 5.8293496820613388554e-01f, 6.0134488693504528634e-01f,
        6.2250412303566482475e-01f, 6.4682178335999007679e-01f, 6.7480834145500567800e-01f, 7.0710678118654746172e-01f,
        7.4453627100229857749e-01f, 7.8815462345125020249e-01f, 8.3934964541552681272e-01f, 8.9997622313641556513e-01f,
        9.7256823786196078263e-01f, 1.0606776859903470633e+00f, 1.1694399334328846596e+00f, 1.3065629648763763537e+00f,
        1.4841646163141661852e+00f, 1.7224470982383341955e+00f, 2.0577810099534108446e+00f, 2.5629154477415054814e+00f,
        3.4076084184687189804e+00f, 5.1011486186891552563e+00f, 1.0190008123548032870e+01f
        ];

}